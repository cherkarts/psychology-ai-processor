# ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–û–¥–æ–±—Ä–∏—Ç—å" –≤ –∞–¥–º–∏–Ω–∫—É –æ—Ç–∑—ã–≤–æ–≤

## üéØ **–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!**

–î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–û–¥–æ–±—Ä–∏—Ç—å" –¥–ª—è –æ—Ç–∑—ã–≤–æ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–û–∂–∏–¥–∞–µ—Ç" –≤ –∞–¥–º–∏–Ω–∫–µ –æ–±—ã—á–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤ (–Ω–µ –æ—Ç–∑—ã–≤–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤).

## üîç **–ü—Ä–æ–±–ª–µ–º–∞:**

–í –∞–¥–º–∏–Ω–∫–µ –æ—Ç–∑—ã–≤–æ–≤ (`admin/reviews.php`) –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –∫–Ω–æ–ø–∫–∞ "–û–¥–æ–±—Ä–∏—Ç—å" –¥–ª—è –æ—Ç–∑—ã–≤–æ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–û–∂–∏–¥–∞–µ—Ç" (pending).

## üîß **–†–µ—à–µ–Ω–∏–µ:**

### 1. **–î–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π** ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –∫–Ω–æ–ø–∫–∏ "–û–¥–æ–±—Ä–∏—Ç—å" –∏ "–û—Ç–∫–ª–æ–Ω–∏—Ç—å"
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ –¥–ª—è –æ—Ç–∑—ã–≤–æ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "pending"

```php
<?php if ($review['status'] === 'pending'): ?>
<button class="btn btn-success btn-sm" data-action="approve-review"
    data-id="<?php echo $review['id']; ?>"
    onclick="window.approveReview && window.approveReview(this.dataset.id)">
    <i class="fas fa-check"></i> –û–¥–æ–±—Ä–∏—Ç—å
</button>
<button class="btn btn-warning btn-sm" data-action="reject-review"
    data-id="<?php echo $review['id']; ?>"
    onclick="window.rejectReview && window.rejectReview(this.dataset.id)">
    <i class="fas fa-times"></i> –û—Ç–∫–ª–æ–Ω–∏—Ç—å
</button>
<?php endif; ?>
```

### 2. **–î–æ–±–∞–≤–ª–µ–Ω—ã JavaScript —Ñ—É–Ω–∫—Ü–∏–∏** ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –±—ã–ª–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –æ–¥–æ–±—Ä–µ–Ω–∏—è/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `approveReview` –∏ `rejectReview`

```javascript
// –§—É–Ω–∫—Ü–∏—è –æ–¥–æ–±—Ä–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞
window.approveReview = function (id) {
  if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ–¥–æ–±—Ä–∏—Ç—å —ç—Ç–æ—Ç –æ—Ç–∑—ã–≤?')) {
    return
  }

  const form = document.createElement('form')
  form.method = 'POST'
  form.action = ''

  const actionInput = document.createElement('input')
  actionInput.type = 'hidden'
  actionInput.name = 'action'
  actionInput.value = 'approve'

  const idInput = document.createElement('input')
  idInput.type = 'hidden'
  idInput.name = 'review_id'
  idInput.value = id

  const csrfInput = document.createElement('input')
  csrfInput.type = 'hidden'
  csrfInput.name = 'csrf_token'
  csrfInput.value =
    document
      .querySelector('meta[name="csrf-token"]')
      ?.getAttribute('content') || ''

  form.appendChild(actionInput)
  form.appendChild(idInput)
  form.appendChild(csrfInput)

  document.body.appendChild(form)
  form.submit()
}

// –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞
window.rejectReview = function (id) {
  if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–∫–ª–æ–Ω–∏—Ç—å —ç—Ç–æ—Ç –æ—Ç–∑—ã–≤?')) {
    return
  }

  // ... –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å action = 'reject'
}
```

### 3. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ PHP** ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –±—ã–ª–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π "approve" –∏ "reject"
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã case –≤ —Ñ—É–Ω–∫—Ü–∏—é `handleReviewAction`

```php
case 'approve':
    $stmt = $db->prepare("UPDATE reviews SET status = 'approved', updated_at = NOW() WHERE id = ?");
    $stmt->execute([$reviewId]);
    return ['success' => true, 'message' => '–û—Ç–∑—ã–≤ –æ–¥–æ–±—Ä–µ–Ω —É—Å–ø–µ—à–Ω–æ.'];

case 'reject':
    $stmt = $db->prepare("UPDATE reviews SET status = 'rejected', updated_at = NOW() WHERE id = ?");
    $stmt->execute([$reviewId]);
    return ['success' => true, 'message' => '–û—Ç–∑—ã–≤ –æ—Ç–∫–ª–æ–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ.'];
```

## üéØ **–ö–∞–∫ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç:**

### –õ–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–Ω–æ–ø–æ–∫:

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:** –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Ä–∞–≤–µ–Ω –ª–∏ —Å—Ç–∞—Ç—É—Å –æ—Ç–∑—ã–≤–∞ "pending"
2. **–ü–æ–∫–∞–∑ –∫–Ω–æ–ø–æ–∫:** –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å "pending", –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–Ω–æ–ø–∫–∏ "–û–¥–æ–±—Ä–∏—Ç—å" –∏ "–û—Ç–∫–ª–æ–Ω–∏—Ç—å"
3. **–°–∫—Ä—ã—Ç–∏–µ –∫–Ω–æ–ø–æ–∫:** –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å "approved" –∏–ª–∏ "rejected", –∫–Ω–æ–ø–∫–∏ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π:

1. **–ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–û–¥–æ–±—Ä–∏—Ç—å" –∏–ª–∏ "–û—Ç–∫–ª–æ–Ω–∏—Ç—å"
2. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:** –ü–æ—è–≤–ª—è–µ—Ç—Å—è –¥–∏–∞–ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
3. **–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã:** –°–æ–∑–¥–∞–µ—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è POST-–∑–∞–ø—Ä–æ—Å
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞:** –°—Ç–∞—Ç—É—Å –æ—Ç–∑—ã–≤–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
5. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞:** –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

## üìÅ **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**

1. **`admin/reviews.php`** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ –∏ JavaScript —Ñ—É–Ω–∫—Ü–∏–∏
2. **`admin-functions.php`** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π approve/reject

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

### 1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–Ω–æ–ø–∫—É "–û–¥–æ–±—Ä–∏—Ç—å":**

- –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É ‚Üí –û—Ç–∑—ã–≤—ã
- –ù–∞–π–¥–∏—Ç–µ –æ—Ç–∑—ã–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–û–∂–∏–¥–∞–µ—Ç"
- –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–Ω–æ–ø–∫–∞ "–û–¥–æ–±—Ä–∏—Ç—å"

### 2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–Ω–æ–ø–∫—É "–û—Ç–∫–ª–æ–Ω–∏—Ç—å":**

- –ù–∞ —Ç–æ–º –∂–µ –æ—Ç–∑—ã–≤–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–Ω–æ–ø–∫–∞ "–û—Ç–∫–ª–æ–Ω–∏—Ç—å"

### 3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**

- –ù–∞–∂–º–∏—Ç–µ "–û–¥–æ–±—Ä–∏—Ç—å" ‚Üí —Å—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –Ω–∞ "–û–¥–æ–±—Ä–µ–Ω"
- –ù–∞–∂–º–∏—Ç–µ "–û—Ç–∫–ª–æ–Ω–∏—Ç—å" ‚Üí —Å—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –Ω–∞ "–û—Ç–∫–ª–æ–Ω–µ–Ω"

## ‚úÖ **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–û–¥–æ–±—Ä–∏—Ç—å" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–ª—è –æ—Ç–∑—ã–≤–æ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–û–∂–∏–¥–∞–µ—Ç"
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–û—Ç–∫–ª–æ–Ω–∏—Ç—å" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–ª—è –æ—Ç–∑—ã–≤–æ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–û–∂–∏–¥–∞–µ—Ç"
- ‚úÖ –ö–Ω–æ–ø–∫–∏ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è –¥–ª—è –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö/–æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤
- ‚úÖ –î–µ–π—Å—Ç–≤–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∏ –æ–±–Ω–æ–≤–ª—è—é—Ç —Å—Ç–∞—Ç—É—Å

## üö® **–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è:**

1. **–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞:** Ctrl+F5
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:** –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å JavaScript –æ—à–∏–±–æ–∫
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ CSRF —Ç–æ–∫–µ–Ω:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

## üéâ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

–¢–µ–ø–µ—Ä—å –≤ –∞–¥–º–∏–Ω–∫–µ –æ—Ç–∑—ã–≤–æ–≤ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∏ "–û–¥–æ–±—Ä–∏—Ç—å" –∏ "–û—Ç–∫–ª–æ–Ω–∏—Ç—å" –¥–ª—è –æ—Ç–∑—ã–≤–æ–≤, –æ–∂–∏–¥–∞—é—â–∏—Ö –º–æ–¥–µ—Ä–∞—Ü–∏–∏! –ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤ —Å—Ç–∞–ª–∞ –Ω–∞–º–Ω–æ–≥–æ —É–¥–æ–±–Ω–µ–µ.

**–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!** üåü
