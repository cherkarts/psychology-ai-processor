# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–π—Ç–∏–Ω–≥–∞

## üîç **–ü—Ä–æ–±–ª–µ–º–∞**

–¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `test-rating-fix.php` –≤—ã–¥–∞–≤–∞–ª –æ—à–∏–±–∫–∏:

- `Undefined variable $dsn`
- `Undefined variable $username`
- `Undefined variable $password`
- `Undefined variable $options`

## üõ†Ô∏è **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**

### 1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω test-rating-fix.php**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
**–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Database –∫–ª–∞—Å—Å

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥:

```php
// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
if (!isset($dsn) || !isset($username) || !isset($password) || !isset($options)) {
    echo "‚ùå –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ config.php<br>";
    echo "–ü–æ–ø—Ä–æ–±—É–µ–º –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ Database –∫–ª–∞—Å—Å...<br>";

    try {
        require_once 'includes/Database.php';
        $db = Database::getInstance();
        $pdo = $db->getConnection();
        echo "‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Database –∫–ª–∞—Å—Å —É—Å–ø–µ—à–Ω–æ<br>";
    } catch (Exception $e) {
        echo "‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ Database –∫–ª–∞—Å—Å: " . $e->getMessage() . "<br>";
        exit;
    }
}
```

### 2. **–°–æ–∑–¥–∞–Ω –ø—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç simple-rating-test.php**

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–ª–æ–∂–Ω—ã–π —Ç–µ—Å—Ç —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –ø—Ä–æ–≤–µ—Ä–æ–∫
**–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –°–æ–∑–¥–∞–Ω —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–µ

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–µ—Å—Ç–∞:

- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –ø–æ–ª—è `rating`
- ‚úÖ –ü–æ–∫–∞–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –æ—Ç–∑—ã–≤–æ–≤
- ‚úÖ –¢–µ—Å—Ç –≤—Å—Ç–∞–≤–∫–∏ –æ—Ç–∑—ã–≤–∞ —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º 5
- ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

### 1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç:**

```
https://–≤–∞—à-—Å–∞–π—Ç.ru/test-rating-fix.php
```

### 2. **–ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç:**

```
https://–≤–∞—à-—Å–∞–π—Ç.ru/simple-rating-test.php
```

### 3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É—Å–ø–µ—à–Ω—ã–º
- –î–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã
- –î–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ –æ—Ç–∑—ã–≤—ã
- –î–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç –≤—Å—Ç–∞–≤–∫–∏

## üîç **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º**

### –ï—Å–ª–∏ –ø–æ–ª–µ `rating` –∏–º–µ–µ—Ç —Ç–∏–ø `tinyint(1)`:

–≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç, –ø–æ—á–µ–º—É —Ä–µ–π—Ç–∏–Ω–≥ 5 —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ 1!

**–†–µ—à–µ–Ω–∏–µ:**

```sql
ALTER TABLE product_reviews MODIFY COLUMN rating TINYINT(3) NOT NULL COMMENT '–û—Ü–µ–Ω–∫–∞ –æ—Ç 1 –¥–æ 5';
```

### –ï—Å–ª–∏ —Ç–∏–ø –ø–æ–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:

–ü—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤:

- JavaScript –æ—Ç–ø—Ä–∞–≤–∫–µ –¥–∞–Ω–Ω—ã—Ö
- API –æ–±—Ä–∞–±–æ—Ç–∫–µ
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞

## üìã **–§–∞–π–ª—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**

1. **`test-rating-fix.php`** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
2. **`simple-rating-test.php`** - –Ω–æ–≤—ã–π –ø—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç

## ‚úÖ **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã
- ‚úÖ –î–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ –æ—Ç–∑—ã–≤—ã
- ‚úÖ –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–µ–Ω —Ç–∏–ø –ø–æ–ª—è `rating`
- ‚úÖ –ï—Å–ª–∏ —Ç–∏–ø `tinyint(1)` - –±—É–¥–µ—Ç –¥–∞–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

## üö® **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç:** `simple-rating-test.php`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∏–ø –ø–æ–ª—è:** –î–æ–ª–∂–µ–Ω –±—ã—Ç—å `tinyint(3)` –∏–ª–∏ –±–æ–ª—å—à–µ
3. **–ï—Å–ª–∏ —Ç–∏–ø `tinyint(1)`:** –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∫–æ–º–∞–Ω–¥—É –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–∑—ã–≤—ã:** –†–µ–π—Ç–∏–Ω–≥ –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

–¢–µ–ø–µ—Ä—å —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ—á–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –ø—Ä–æ–±–ª–µ–º—ã —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º! üéØ
