# üîß –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ —Å—Ç–∞—Ç–µ–π

## üìã –ß—Ç–æ –¥–µ–ª–∞–µ–º?

–£–±–∏—Ä–∞–µ–º ¬´–∫—Ä–∞–∫–æ–∑—è–±—Ä—ã¬ª (–†–Ü–°‚Äπ–†—ñ–†—ï–°–Ç–†¬∞–†–Ö–†—ë–†¬µ) –∏–∑ —Å—Ç–∞—Ç–µ–π –∏ –ø–µ—Ä–µ–≤–æ–¥–∏–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π UTF-8.

---

## üñ•Ô∏è –í–ê–†–ò–ê–ù–¢ 1: –ß–µ—Ä–µ–∑ phpMyAdmin (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ phpMyAdmin

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥
2. –ù–∞–π–¥–∏—Ç–µ **phpMyAdmin** –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–æ–±—ã—á–Ω–æ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ `your_database` –∏–ª–∏ `site_db`)

---

### –®–∞–≥ 2: –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL-–∫–æ–º–∞–Ω–¥—ã –ø–æ –±–ª–æ–∫–∞–º

#### üî¥ –ë–õ–û–ö 1: –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

```sql
CREATE TABLE articles_backup_20251001 AS SELECT * FROM articles;
```

**–ö–∞–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:**

1. –í phpMyAdmin –Ω–∞–π–¥–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É **SQL** (—Å–≤–µ—Ä—Ö—É)
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤—ã—à–µ
3. –í—Å—Ç–∞–≤—å—Ç–µ –≤ –ø–æ–ª–µ
4. –ù–∞–∂–º–∏—Ç–µ **–í–ø–µ—Ä—ë–¥** (–∏–ª–∏ **Go**)
5. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è: ‚úÖ "–ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ"

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

```sql
SELECT COUNT(*) FROM articles_backup_20251001;
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞—Ç–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 15).

---

#### üü° –ë–õ–û–ö 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–¥–∏—Ä–æ–≤–∫—É

```sql
SET NAMES utf8mb4;
```

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç–∞–∫ –∂–µ —á–µ—Ä–µ–∑ SQL-–≤–∫–ª–∞–¥–∫—É.

---

#### üü¢ –ë–õ–û–ö 3: –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å ¬´–±–∏—Ç—ã–µ¬ª —Å—Ç–∞—Ç—å–∏

```sql
SELECT id, title, LEFT(content, 100) AS preview
FROM articles
WHERE title LIKE '%–†%' OR title LIKE '%–†–Ü%' OR title LIKE '%–†—ï%'
   OR content LIKE '%–†%' OR content LIKE '%–†–Ü%' OR content LIKE '%–†—ï%'
ORDER BY id DESC
LIMIT 20;
```

**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ:**

- –ï—Å–ª–∏ –µ—Å—Ç—å –∫—Ä–∞–∫–æ–∑—è–±—Ä—ã ‚Äî –≤ —Å—Ç–æ–ª–±—Ü–µ `title` –±—É–¥–µ—Ç —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ `–†—ü–°–É–†—ë–°‚Ä¶–†—ï–†¬ª–†—ï–†—ñ–†—ë–°–è`
- –ï—Å–ª–∏ –≤—Å—ë —á–∏—Å—Ç–æ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ —Å—Ä–∞–∑—É –∫ –ë–ª–æ–∫—É 5 (Alt-–∫–æ–º–∞–Ω–¥–∞ –≤–Ω–∏–∑—É)

---

#### üîµ –ë–õ–û–ö 4: –ò–°–ü–†–ê–í–ò–¢–¨ –î–ê–ù–ù–´–ï (–æ—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫)

**4.1 –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏—è:**

```sql
UPDATE articles
SET title   = CONVERT(CAST(CONVERT(title   USING cp1251) AS BINARY) USING utf8mb4),
    excerpt = CONVERT(CAST(CONVERT(excerpt USING cp1251) AS BINARY) USING utf8mb4)
WHERE title   LIKE '%–†%' OR title   LIKE '%–†–Ü%' OR title   LIKE '%–†—ï%'
   OR excerpt LIKE '%–†%' OR excerpt LIKE '%–†–Ü%' OR excerpt LIKE '%–†—ï%';
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ-—Ç–æ —Ç–∏–ø–∞: ‚úÖ "–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ —Å—Ç—Ä–æ–∫: 12"

**4.2 –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç–∞—Ç–µ–π:**

```sql
UPDATE articles
SET content = CONVERT(CAST(CONVERT(content USING cp1251) AS BINARY) USING utf8mb4)
WHERE content LIKE '%–†%' OR content LIKE '%–†–Ü%' OR content LIKE '%–†—ï%';
```

**4.3 –ò–º–µ–Ω–∞ –∞–≤—Ç–æ—Ä–æ–≤:**

```sql
UPDATE articles
SET author = CONVERT(CAST(CONVERT(author USING cp1251) AS BINARY) USING utf8mb4)
WHERE author LIKE '%–†%' OR author LIKE '%–†–Ü%' OR author LIKE '%–†—ï%';
```

---

#### üü£ –ë–õ–û–ö 5: –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥–∏—Ä–æ–≤–∫—É —Ç–∞–±–ª–∏—Ü—ã

```sql
ALTER TABLE articles CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

‚è±Ô∏è –ú–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 5-15 —Å–µ–∫—É–Ω–¥, –µ—Å–ª–∏ —Å—Ç–∞—Ç–µ–π –º–Ω–æ–≥–æ.

---

#### ‚úÖ –ë–õ–û–ö 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

```sql
SELECT id, title, author, LEFT(content, 150) AS preview
FROM articles
ORDER BY id DESC
LIMIT 10;
```

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**

- –ó–∞–≥–æ–ª–æ–≤–∫–∏ —á–∏—Ç–∞–µ–º—ã–µ: `–í—ã–≥–æ—Ä–∞–Ω–∏–µ –ø—Å–∏—Ö–æ–ª–æ–≥–∞`, `–ö–∞–∫ —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å —Ç—Ä–µ–≤–æ–≥–æ–π`
- –ù–∏–∫–∞–∫–∏—Ö `–†`, `–†–Ü`, `–†—ï` –∏ —Ç.–ø.

---

## üñ•Ô∏è –í–ê–†–ò–ê–ù–¢ 2: –ß–µ—Ä–µ–∑ SSH (–¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö)

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh your_user@your_host

# 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å–∞–π—Ç–∞
cd public_html

# 3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —á–µ—Ä–µ–∑ mysql
mysql -u your_db_user -p your_db_name < fix-encoding.sql

# –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ë–î
```

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### –û—Ç–∫–∞—Ç –∫ –±—ç–∫–∞–ø—É:

```sql
-- 1. –£–¥–∞–ª–∏—Ç—å –∏—Å–ø–æ—Ä—á–µ–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
DROP TABLE articles;

-- 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –±—ç–∫–∞–ø–∞
CREATE TABLE articles AS SELECT * FROM articles_backup_20251001;

-- 3. –í–µ—Ä–Ω—É—Ç—å –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
ALTER TABLE articles ADD PRIMARY KEY (id);
ALTER TABLE articles MODIFY id INT AUTO_INCREMENT;
```

---

## üìù –ü–†–û–í–ï–†–ö–ê –ù–ê –°–ê–ô–¢–ï

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±—É—é —Å—Ç–∞—Ç—å—é –Ω–∞ —Å–∞–π—Ç–µ
2. –ù–∞–∂–º–∏—Ç–µ **Ctrl+Shift+R** (–ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - ‚úÖ –ó–∞–≥–æ–ª–æ–≤–æ–∫ —á–∏—Ç–∞–µ–º—ã–π
   - ‚úÖ –¢–µ–∫—Å—Ç –±–µ–∑ –∫—Ä–∞–∫–æ–∑—è–±—Ä
   - ‚úÖ –¢–µ–≥–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–∏—Ä–æ–≤–∫–∏:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `fix-tags-now.php` ‚Äî —É–±–µ—Ä—ë—Ç –¥—É–±–ª–∏ —Ç–µ–≥–æ–≤
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–≥–∏ –Ω–∞ —Å—Ç–∞—Ç—å—è—Ö
3. –í—Å—ë –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ ¬´–∫–æ—Å—Ç—ã–ª–µ–π¬ª

---

## üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏

- **–ï—Å–ª–∏ phpMyAdmin –≤—ã–ª–µ—Ç–∞–µ—Ç** ‚Äî –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ –æ–¥–Ω–æ–π
- **–ï—Å–ª–∏ timeout** ‚Äî —É–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤ php.ini (–∏–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç–µ —Ö–æ—Å—Ç–∏–Ω–≥)
- **–ï—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω—ã** ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ, —è –ø–æ–º–æ–≥—É

---

## üìû –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –æ—à–∏–±–∫–∏
2. –ü—Ä–∏—à–ª–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ë–ª–æ–∫–∞ 3 (–ø—Ä–µ–≤—å—é –±–∏—Ç—ã—Ö —Å—Ç—Ä–æ–∫)
3. –Ø –¥–∞–º —Ç–æ—á–Ω—É—é –∫–æ–º–∞–Ω–¥—É –ø–æ–¥ –≤–∞—à—É —Å–∏—Ç—É–∞—Ü–∏—é
