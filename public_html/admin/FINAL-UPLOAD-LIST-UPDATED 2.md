# üöÄ –û–ë–ù–û–í–õ–ï–ù–ù–´–ô –°–ü–ò–°–û–ö –§–ê–ô–õ–û–í –î–õ–Ø –ó–ê–ì–†–£–ó–ö–ò –ù–ê –•–û–°–¢–ò–ù–ì

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –§–ê–ô–õ–´ –ê–î–ú–ò–ù–ö–ò

### 1. **admin/product-categories.php** - –ö–ê–¢–ï–ì–û–†–ò–ò –¢–û–í–ê–†–û–í

- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `getProductCategories()` –∏ `handleCategoryAction()`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ `functions.php` –¥–ª—è CSRF —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 2. **admin/meditations.php** - –ú–ï–î–ò–¢–ê–¶–ò–ò

- ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `dbname` –≤ —Å—Ç—Ä–æ–∫–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- ‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `dbname` –≤ DSN —Å—Ç—Ä–æ–∫—É
- ‚úÖ –£–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω `functions.php`
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π CSRF
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ –ë–î
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 3. **admin/articles.php** - –°–¢–ê–¢–¨–ò

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ `functions.php`
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 4. **admin/products.php** - –¢–û–í–ê–†–´

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ `functions.php`
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 5. **admin/reviews.php** - –û–¢–ó–´–í–´

- ‚úÖ –£–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω `functions.php`
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π CSRF
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- **–°—Ç–∞—Ç—É—Å:** –î–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å

## üìã –ü–û–†–Ø–î–û–ö –ó–ê–ì–†–£–ó–ö–ò

### –®–ê–ì 1: –ó–∞–≥—Ä—É–∑–∏—Ç–µ —ç—Ç–∏ —Ñ–∞–π–ª—ã –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥

```bash
admin/product-categories.php
admin/articles.php
admin/products.php
admin/meditations.php
```

### –®–ê–ì 2: –ó–∞–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã –Ω–æ–≤—ã–º–∏

### –®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–¥–º–∏–Ω–∫–∏

- [https://cherkas-therapy.ru/admin/product-categories.php](https://cherkas-therapy.ru/admin/product-categories.php)
- [https://cherkas-therapy.ru/admin/meditations.php](https://cherkas-therapy.ru/admin/meditations.php)
- [https://cherkas-therapy.ru/admin/articles.php](https://cherkas-therapy.ru/admin/articles.php)
- [https://cherkas-therapy.ru/admin/products.php](https://cherkas-therapy.ru/admin/products.php)
- [https://cherkas-therapy.ru/admin/reviews.php](https://cherkas-therapy.ru/admin/reviews.php)

## üîß –ß–¢–û –ë–´–õ–û –ò–°–ü–†–ê–í–õ–ï–ù–û

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π CSRF —Ç–æ–∫–µ–Ω–æ–≤

- **–°–∏–º–ø—Ç–æ–º:** –ë–µ–ª—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –∞–¥–º–∏–Ω–∫–µ
- **–ü—Ä–∏—á–∏–Ω–∞:** –§—É–Ω–∫—Ü–∏–∏ `generateCSRFToken()` –∏ `verifyCSRFToken()` –±—ã–ª–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –¥–≤–∞–∂–¥—ã
- **–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è functions.php

- **–°–∏–º–ø—Ç–æ–º:** –û—à–∏–±–∫–∞ "Call to undefined function verifyCSRFToken()"
- **–ü—Ä–∏—á–∏–Ω–∞:** –§–∞–π–ª—ã –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–ª–∏ `../includes/functions.php`
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–æ `require_once __DIR__ . '/../includes/functions.php';`

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π

- **–°–∏–º–ø—Ç–æ–º:** "Cannot redeclare function getProductCategories()"
- **–ü—Ä–∏—á–∏–Ω–∞:** –§—É–Ω–∫—Ü–∏–∏ –±—ã–ª–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –¥–≤–∞–∂–¥—ã –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
- **–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–ø–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

- **–°–∏–º–ø—Ç–æ–º:** "SQLSTATE[HY000] [2002] No such file or directory"
- **–ü—Ä–∏—á–∏–Ω–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `dbname` –≤ DSN —Å—Ç—Ä–æ–∫–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω `dbname` –≤ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MySQL

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

1. **–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:**

   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–¥–º–∏–Ω–∫–∏
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –±–µ–ª—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤
   - –£–¥–∞–ª–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å —Å–µ—Ä–≤–µ—Ä–∞

2. **–ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—Å–µ –µ—â–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –±–µ–ª—ã–π —ç–∫—Ä–∞–Ω** –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥
   - –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å 644 –∏–ª–∏ 755)
   - –õ–æ–≥–∏ –æ—à–∏–±–æ–∫ PHP –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ
   - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## üóëÔ∏è –§–ê–ô–õ–´ –î–õ–Ø –£–î–ê–õ–ï–ù–ò–Ø –° –°–ï–†–í–ï–†–ê

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —É–¥–∞–ª–∏—Ç–µ:

```bash
admin/fix-all-white-pages.php
admin/fix-product-categories-duplicate.php
admin/fix-all-duplicates.php
admin/upload-categories-fix.php
admin/debug-meditations-page.php
admin/fix-meditations-connection.php
admin/FINAL-UPLOAD-LIST.md
admin/FINAL-UPLOAD-LIST-UPDATED.md
```

## ‚úÖ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ **–≤—Å–µ –±–µ–ª—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –∞–¥–º–∏–Ω–∫–µ –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å** –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

## üéØ –ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–°

| –°—Ç—Ä–∞–Ω–∏—Ü–∞              | –°—Ç–∞—Ç—É—Å            | –ü—Ä–æ–±–ª–µ–º–∞                 | –†–µ—à–µ–Ω–∏–µ               |
| --------------------- | ----------------- | ------------------------ | --------------------- |
| **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤** | ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** | –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π     | –£–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã     |
| **–ú–µ–¥–∏—Ç–∞—Ü–∏–∏**         | ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** | –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î  | –î–æ–±–∞–≤–ª–µ–Ω dbname       |
| **–°—Ç–∞—Ç—å–∏**            | ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** | –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ functions.php | –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ |
| **–¢–æ–≤–∞—Ä—ã**            | ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** | –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ functions.php | –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ |
| **–û—Ç–∑—ã–≤—ã**            | ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**   | –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º              | –§–∞–π–ª –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω        |
